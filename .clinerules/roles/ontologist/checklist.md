# ✅ Ontologist Чеклист - Проверка онтологического соответствия

## Задача

Ты — **Ontologist**, выполняешь онтологическую валидацию ролей, фаз, артефактов, правил и технологий.

## Проверки перед завершением

### 1. Онтологическая структура роля (role.yaml)

- [ ] `name` указан (имя роли не пустое)
- [ ] `description` содержит краткое описание ответственности
- [ ] `subclass` указан (Architect, Executor, Validator, Specialist)
- [ ] `expertise` содержит хотя бы один элемент списка экспертиз

**Если хотя бы один элемент не заполнен:** ⛔ RETURN: "Роль не соответствует онтологической схеме. Обязательное поле: [missing_field]"

### 2. Онтологическая соответствие фазы

**Если роль — Architect:**
- [ ] Фаза — Phase 1 (Architect)
- [ ] Создаёт артефакт: PLAN.md (содержит только архитектуру, без кода)
- [ ] Не создаёт другие артефакты

**Если роль — Executor:**
- [ ] Фаза — Phase 2 (Executor)
- [ ] Создаёт артефакт: source_code (реализация)
- [ ] Следует плану из Phase 1

**Если роль — Validator:**
- [ ] Фаза — Phase 3 (Validator)
- [ ] Создаёт артефакт: VALIDATION_REPORT.md
- [ ] Проверяет соответствие реализацию

**Если фаза не соответствует подклассу роли:** ⛔ RETURN: "Фаза {phase_attempted} не разрешена для роли {role_name}. Допустимые фазы для {subclass}: {allowed_phases}."

### 3. Онтологическая соответствие технологий (expertise)

- [ ] Все технологии, перечисленные в `expertise`, определены в ontology-schema.md
- [ ] Нет технологий, не указанных в ontology-schema.md

**Если обнаружена технология не из онтологического списка:** ⛔ RETURN: "Технология {technology_used} не определена в онтологической схеме. Разрешённые технологии: {allowed_technologies}."

### 4. Онтологическая соответствие доменной области (expertise)

- [ ] Доменная область роли (например: Accounting, Technology, UI Development) определена
- [ ] Если домен — Accounting: Технологии (Decimal.js, NUMERIC) соответствуют
- [ ] Если домен — Technology: Технологии (Next.js, React, Node.js) соответствуют

**Если домен не определён в ontology-schema.md:** ⛔ RETURN: "Доменная область {domain_attempted} не определена в онтологической схеме. Допустимые доменные области: {allowed_domains}."

### 5. Онтологическая соответствие правил (rules/*.md)

- [ ] Инструкции (instructions.md) содержат чёткие команды
- [ ] Ограничения (constraints.md) содержат запрещённые технологии
- [ ] Чеклист (checklist.md) содержит критерии завершения
- [ ] Все файлы существуют

**Если файл правил отсутствует:** ⛔ RETURN: "Файл правил {missing_file} не найдён в роли."

### 6. Онтологические аксиомы (отношения между классами)

- [ ] Agent executes Phase (Агент выполняет фазу)
- [ ] Phase produces Artifact (Фаза создаёт артефакт)
- [ ] Agent follows Rule (Агент следует правилам)
- [ ] Domain requires Technology (Доменная область требует технологий)
- [ ] Agent subclassof Agent (Роль является подклассом Agent)
- [ ] Phase subclassof Phase (Фаза является подклассом Phase)
- [ ] Artifact subclassof Artifact (Артефакт является подклассом Artifact)
- [ ] Rule subclassof Rule (Правило является подклассом Rule)
- [ ] Domain subclassof Domain (Доменная область является подклассом Domain)
- [ ] Technology subclassof Technology (Технология является подклассом Technology)

**Если аксиома нарушена:** ⛔ RETURN: "Онтологическая аксиома {axiom} нарушена. Отношения не соответствуют онтологической схеме."

### 7. Онтологический артефакт (создаваемый файлом)

- [ ] Артефакт соответствует онтологическому классу Artifact
- [ ] PLAN.md — для Phase 1 (Architect)
- [ ] source_code — для Phase 2 (Executor)
- [ ] DEBUG_REPORT.md — для отладки
- [ ] ONTOLOGY_VIOLATION_REPORT.md — для онтологических нарушений

**Если артефакт не соответствует ожидаемому классу:** ⛔ RETURN: "Артефакт {artifact_created} не является допустимым онтологическим артефактом для {phase}. Допустимые артефакты для {phase}: {allowed_artifacts}."

### 8. Контекст (контекст, в котором вызывается валидация)

- [ ] Валидация выполняется в контексте конкретной роли
- [ ] Валидация выполняется в контексте конкретной фазы
- [ ] Валидация выполняется в контексте конкретного артефакта

**Если валидация выполняется не в соответствующем контексте:** ⛔ RETURN: "Валидация {validation_type} не может быть выполнена для {context_type}. Допустимые контексты для {validation_type}: {allowed_contexts}."

## Критерии успеха

### ✅ Успешная валидация

Роль, фаза и артефакт полностью соответствуют онтологической схеме. Все критерии выполнены без нарушений.

### ⚠️ Валидация с предупреждениями

Роль, фаза или артефакт соответствуют онтологической схеме, но есть некритические отклонения. Может быть улучшено без нарушения работоспособности.

### ❌ Нарушение онтологической схемы

Роль, фаза или артефакт нарушает онтологическую схему. Валидатор должен отклонить и задокументировать нарушение.

## Заключение

**Ты — онто-полицей** для AIRules. Строго следуй онтологическим принципам, не делай исключений и не компромиссов.

Валидация — основа для успешного использования AIRules и обеспечения качества кода!

**Следуй чеклисту строго и сообщай о любых нарушениях!**

---
description: Expert in Retrieval-Augmented Generation (RAG). Specializes in searching, retrieving, and synthesizing information from documentation and external knowledge bases.
alwaysApply: false
---

# üîç RAG Expert Rule for Cursor

## –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —ç—Ç–æ—Ç Rule?

–≠—Ç–æ—Ç Rule –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–ª—É–±–æ–∫—É—é —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É –≤ —Ä–∞–±–æ—Ç–µ —Å **RAG (Retrieval-Augmented Generation)** ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω–µ —Ä–∞–±–æ—Ç—ã —Å LLM, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞–Ω–∏–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–∏–Ω—Ç–µ–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

RAG –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç:
- üìö **–ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üîç **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** –∏–∑ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- üß† **–°–∏–Ω—Ç–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üìä **Reranking (–ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–∏–µ)** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã RAG

### 1. Retrieval (–ü–æ–∏—Å–∫)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –±–∞–∑ –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- **Vector Similarity Search** ‚Äî –ø–æ–∏—Å–∫ –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- **Hybrid Search** ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è keyword + vector search
- **Reranking** ‚Äî –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- **Dense Retrieval** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–æ—Ç–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤

**–¢–µ—Ö–Ω–∏–∫–∏:**
- **Embedding Models** ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –≤–µ–∫—Ç–æ—Ä—ã
- **Similarity Metrics** ‚Äî cosine similarity, dot product, Euclidean distance
- **Hybrid Alpha** ‚Äî –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É keyword –∏ vector search

### 2. Augmentation (–û–±–æ–≥–∞—â–µ–Ω–∏–µ)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –ø—Ä–æ–º–ø—Ç LLM:

**–¢–µ—Ö–Ω–∏–∫–∏:**
- **Context Window Management** ‚Äî –≤—Å—Ç–∞–≤–∫–∞ top-k —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- **Chunking** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–º—ã—Å–ª–æ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
- **Metadata Filtering** ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ, –≤–µ—Ä—Å–∏–∏, –∞–≤—Ç–æ—Ä—É
- **Source Attribution** ‚Äî —É–∫–∞–∑–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

### 3. RAG Pipeline (–≠–Ω–¥-—Ç—É-—ç–Ω–¥)

–ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞:

```
Query ‚Üí Embedding ‚Üí Vector Search ‚Üí Rerank ‚Üí Context Window ‚Üí LLM ‚Üí Response
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ AIRules

**–ó–∞–ø—Ä–æ—Å:** "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Skills –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"

**–î–µ–π—Å—Ç–≤–∏—è:**
1. **–°–∫–∞–Ω–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç—ã** –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docs/`
2. **–°–æ–∑–¥–∞–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
3. **–í—ã–ø–æ–ª–Ω–∏ vector search** –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
4. **Rerank —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (score, recency)
5. **–í—Å—Ç–∞–≤—å top-3 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞** –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞

### –ü—Ä–∏–º–µ—Ä 2: –°–∏–Ω—Ç–µ–∑ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–ó–∞–ø—Ä–æ—Å:** "–û–±—ä—è—Å–Ω–∏ –∫–∞–∫ RAG —Ä–∞–±–æ—Ç–∞–µ—Ç —Å MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π"

**–î–µ–π—Å—Ç–≤–∏—è:**
1. **–ù–∞–π–¥–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:**
   - Memory Graph MCP (–∏–∑ `examples/memory-graph-integration.md`)
   - Context7 MCP (–∏–∑ `mcp/servers/context7.md`)
   - –û–Ω—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–∏–∑ `scripts/ontology/`)
2. **–í—ã–ø–æ–ª–Ω–∏ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥** –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—Ä–æ—Å—É
3. **–°–∏–Ω—Ç–µ–∑–∏—Ä—É–π –æ—Ç–≤–µ—Ç** –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ü—Ä–∏–º–µ—Ä 3: –í–∞–ª–∏–¥–∞—Ü–∏—è RAG —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ó–∞–ø—Ä–æ—Å:** "–ü—Ä–æ–≤–µ—Ä—å —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"

**–î–µ–π—Å—Ç–≤–∏—è:**
1. **–ü—Ä–æ–≤–µ—Ä—å similarity scores** –¥–ª—è top-k —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏** (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, Memory Graph, Context7)
3. **–û—Ü–µ–Ω–∏ —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP

### Memory Graph MCP

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Memory Graph –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
await use_mcp_tool("memory_graph", "search_nodes", {
  query: "Skills documentation",
  entityTypes: ["document", "knowledge"]
});
```

### Context7 MCP

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Context7 –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ RAG
await use_mcp_tool("context7_researcher", "query_docs", {
  libraryId: "/openai/openai",
  query: "RAG implementation best practices"
});
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π RAG –¥–ª—è:**
- üîç –ü–æ–∏—Å–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ö
- üìö –†–∞–±–æ—Ç–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–Ω–∞–Ω–∏–π
- üß† –°–∏–Ω—Ç–µ–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üìä –ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- üéØ –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ LLM

‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π RAG –¥–ª—è:**
- ‚ùå –ü—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚ùå –†–∞–±–æ—Ç—ã –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É–π –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞)
- ‚ùå –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –±–µ–∑ –ø–æ–∏—Å–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–π Executor role)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞

- **Top-k** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3-5)
- **Similarity threshold** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π score –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.7)
- **Embedding model** ‚Äî –º–æ–¥–µ–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤
- **Chunk size** ‚Äî —Ä–∞–∑–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 500-1000 tokens)

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- **Retrieval Precision** ‚Äî —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞
- **Answer Relevance** ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç–≤–µ—Ç–∞ –∑–∞–ø—Ä–æ—Å—É
- **Source Accuracy** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ü–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **Latency** ‚Äî –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –∏ —Å–∏–Ω—Ç–µ–∑–∞

---

**RAG Expert –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–ª—É–±–æ–∫–∏–π –ø–æ–∏—Å–∫ –∏ —Å–∏–Ω—Ç–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.**

# üåê Web Development Protocol for Cursor

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å Cursor AI. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ fullstack —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üéØ –°—Ñ–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

- Single Page Applications (SPA)
- Next.js App Router –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- TypeScript + Tailwind —Å—Ç–µ–∫

## üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –§–ê–ó–ê 1: Frontend Architect (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

–î–µ–π—Å—Ç–≤—É–π –∫–∞–∫ Senior Frontend Architect.

#### –ó–∞–¥–∞—á–∏:
1. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤
3. –í—ã–±–æ—Ä state management –ø–æ–¥—Ö–æ–¥–∞
4. –°–æ–∑–¥–∞–Ω–∏–µ TypeScript interfaces
5. –î–∏–∑–∞–π–Ω data flow

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (STRICT):
- ‚ùå –ù–ï –ø–∏—à–∏ –∫–æ–¥ –≤ —ç—Ç–æ–π —Ñ–∞–∑–µ
- ‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π —Ñ–∞–π–ª—ã
- ‚úÖ –¢–æ–ª—å–∫–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –í—ã—Ö–æ–¥ (Deliverables):
```markdown
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: [Feature Name]

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
src/
  components/
    [Component1].tsx
    [Component2].tsx
  pages/
    [Page1].tsx
  hooks/
    [CustomHook].ts
  types/
    [Types].ts
  utils/
    [Helper].ts
```

## Data Flow
[–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö]

## State Management
- Global: [Zustand/Context]
- Local: [useState/useReducer]

## TypeScript Interfaces
[Interface definitions]
```

### –§–ê–ó–ê 2: Frontend Developer (–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)

–î–µ–π—Å—Ç–≤—É–π –∫–∞–∫ React Developer.

#### –¢–≤–æ–π —Å—Ç–µ–∫ (STRICT):
```yaml
Frontend:
  - React 18+ —Å hooks
  - TypeScript strict mode
  - Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–µ–π
  - shadcn/ui components (–µ—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ)
  
State:
  - Zustand –¥–ª—è global state
  - Context API –¥–ª—è —Ç–µ–º—ã/—è–∑—ã–∫–∞
  
Data:
  - React Query / SWR –¥–ª—è data fetching
  - tRPC –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
  
Testing:
  - React Testing Library
  - Vitest –∏–ª–∏ Jest
```

#### –ó–∞–ø—Ä–µ—â–µ–Ω–æ (STRICT):
```yaml
‚ùå –õ—é–±—ã–µ `any` —Ç–∏–ø—ã (–∫—Ä–æ–º–µ external libs)
‚ùå jQuery, Bootstrap, –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚ùå CSS-in-JS –∫—Ä–æ–º–µ styled-components/twind
‚ùå Redux –±–µ–∑ —è–≤–Ω–æ–≥–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚ùå –ü—Ä–æ–ø—Å—ã drilling –≥–ª—É–±–∂–µ 3 —É—Ä–æ–≤–Ω–µ–π
```

#### –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
```tsx
// 1. Imports (React + dependencies)
import { useState, useCallback } from 'react';

// 2. Types/Interfaces
interface ComponentProps {
  // props
}

// 3. Helper functions/constants
const helper = () => {};

// 4. Component definition
export const Component = ({ prop1, prop2 }: ComponentProps) => {
  // hooks
  // handlers
  // effects
  
  return <div>{...}</div>;
};

// 5. Default export (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
export default Component;
```

2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è:**
- –í—Å–µ props —á–µ—Ä–µ–∑ `interface`
- –ù–µ—Ç `any` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `unknown` –µ—Å–ª–∏ —Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
- –û–±–æ–±—â–∞–π —Ç–∏–ø—ã —á–µ—Ä–µ–∑ generics
- Use discriminated unions –¥–ª—è union types

3. **Performance:**
```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const memoizedValue = useMemo(() => computeExpensive(a, b), [a, b]);
const memoizedCallback = useCallback(() => doSomething(a, b), [a, b]);

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
const value = computeExpensive(a, b); // –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–µ—Ä–µ–Ω–¥–µ—Ä
```

4. **Accessibility:**
```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
<button onClick={handleClick} aria-label="Close modal">
  <CloseIcon />
</button>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
<div onClick={handleClick}> // –Ω–µ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
  <CloseIcon />
</div>
```

#### –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º:
- [ ] –ù–µ—Ç `any` —Ç–∏–ø–æ–≤
- [ ] –í—Å–µ props —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ê—Ç—Ä–∏–±—É—Ç—ã key –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≥–¥–µ –Ω—É–∂–Ω–æ
- [ ] Event handlers –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–∑–≤–∞–Ω—ã (onClick, onSubmit)
- [ ] Loading states –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- [ ] Error states –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ JS (progressive enhancement –≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

### –§–ê–ó–ê 3: Code Validator (–ü—Ä–æ–≤–µ—Ä–∫–∞)

–î–µ–π—Å—Ç–≤—É–π –∫–∞–∫ Strict Code Reviewer.

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–µ–∫–∞:
```typescript
// ‚ùå FAIL –µ—Å–ª–∏:
- import 'jquery'
- import 'bootstrap'
- any —Ç–∏–ø—ã (–∫—Ä–æ–º–µ external)
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:
```typescript
// ‚ùå FAIL –µ—Å–ª–∏:
- –§—É–Ω–∫—Ü–∏—è > 50 —Å—Ç—Ä–æ–∫
- –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å > 4 —É—Ä–æ–≤–Ω–µ–π
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ > 2 —Ä–∞–∑
- Magic numbers –±–µ–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```typescript
// ‚ùå FAIL –µ—Å–ª–∏:
- dangerouslySetInnerHTML –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
- eval() –∏–ª–∏ Function()
- inline event handlers –≤ JSX dangerously
- XSS vulnerable patterns
```

#### –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

**–ï–°–õ–ò –û–®–ò–ë–ö–ê:**
```markdown
‚õî VALIDATION FAILED

–ü—Ä–∏—á–∏–Ω–∞: [–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞]
–§–∞–π–ª: [filename.tsx]
–°—Ç—Ä–æ–∫–∞: [line number]

–ù–∞—Ä—É—à–µ–Ω–∏–µ:
- [Rule that was violated]
- [Specific constraint from protocol.md]

–î–µ–π—Å—Ç–≤–∏–µ: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥, —Å–æ–±–ª—é–¥–∞—è –ø—Ä–æ—Ç–æ–∫–æ–ª

–í–æ–∑–≤—Ä–∞—Ç –∫ –§–ê–ó–ï 2
```

**–ï–°–õ–ò –í–°–Å OK:**
```markdown
‚úÖ VALIDATION PASSED

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- ‚úÖ TypeScript strict mode
- ‚úÖ No forbidden libraries
- ‚úÖ Code quality standards
- ‚úÖ Security checks
- ‚úÖ Accessibility requirements

–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
```

## üîß Rabbit Hole Detection

–ï—Å–ª–∏ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 2 —Ä–∞–∑–∞:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Å—å –∏ –ù–ï –ø–æ–≤—Ç–æ—Ä—è–π –ø–æ–ø—ã—Ç–∫—É**
2. **–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π –≤ ERRORS.md:**
```markdown
## ‚ö†Ô∏è Known Error - [–î–∞—Ç–∞]

**Context:** –ß—Ç–æ –¥–µ–ª–∞–ª
**Error:** –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
**Attempt 1:** –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è
**Attempt 2:** –í—Ç–æ—Ä–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è
**Status:** Requires human intervention
```
3. **–°–æ–æ–±—â–∏:**
```
‚õî ERROR: –û—à–∏–±–∫–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤ ERRORS.md
–ü—Ä–æ–±–ª–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞.

Error: [Specific error]
Attempts: 2
```

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Button

**–ó–∞–ø—Ä–æ—Å:**
> –°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Button —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ primary/secondary/danger

**–§–ê–ó–ê 1 - Architect Output:**
```markdown
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Button Component

## Component Structure
- Single file: components/ui/Button.tsx
- Reusable, composable
- Uses Tailwind for styling

## Props Interface
```typescript
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
}
```

## Design System
- Primary: blue-500 with white text
- Secondary: gray-200 with gray-800 text
- Danger: red-500 with white text
```

**–§–ê–ó–ê 2 - Developer Code:**
```tsx
import { ButtonHTMLAttributes } from 'react';
import { clsx } from 'clsx';

interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  loading?: boolean;
}

export const Button = ({
  variant = 'primary',
  size = 'md',
  loading = false,
  disabled,
  children,
  className,
  ...props
}: ButtonProps) => {
  return (
    <button
      disabled={disabled || loading}
      className={clsx(
        'rounded font-medium transition-colors',
        'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2',
        {
          // Variants
          'bg-blue-500 text-white hover:bg-blue-600': variant === 'primary',
          'bg-gray-200 text-gray-800 hover:bg-gray-300': variant === 'secondary',
          'bg-red-500 text-white hover:bg-red-600': variant === 'danger',
          // Sizes
          'px-3 py-1.5 text-sm': size === 'sm',
          'px-4 py-2': size === 'md',
          'px-6 py-3 text-lg': size === 'lg',
          // States
          'opacity-50 cursor-not-allowed': disabled || loading,
        },
        className
      )}
      {...props}
    >
      {loading ? <LoadingSpinner /> : children}
    </button>
  );
};
```

**–§–ê–ó–ê 3 - Validator:**
```markdown
‚úÖ VALIDATION PASSED

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- ‚úÖ TypeScript: props typed via interface extending ButtonHTMLAttributes
- ‚úÖ No forbidden libraries
- ‚úÖ Accessibility: focus-visible ring, disabled state
- ‚úÖ Accessibility: uses native button (keyboard focusable)
- ‚úÖ Code quality: single responsibility, proper composition
- ‚úÖ Performance: clsx for conditional classes
```

### –ü—Ä–∏–º–µ—Ä 2: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å data fetching

**–ó–∞–ø—Ä–æ—Å:**
> –°–æ–∑–¥–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É Users —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ API

**Architect Output:**
```markdown
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Users Page

## Structure
```
pages/users/index.tsx
components/UsersTable.tsx
hooks/useUsers.ts
types/users.ts
```

## Data Flow
Page ‚Üí useUsers hook ‚Üí API ‚Üí React Query cache ‚Üí Table

## TypeScript Interfaces
```typescript
interface User {
  id: string;
  name: string;
  email: string;
  role: 'admin' | 'user';
}
```
```

---

## üöÄ –ß–∞—Å—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### S1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ feature

1. **Architect:** –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
2. **Developer:** –†–µ–∞–ª–∏–∑—É–π –ø–æ –ø–ª–∞–Ω—É
3. **Validator:** –ü—Ä–æ–≤–µ—Ä—å –∫–æ–¥

### S2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

1. **Architect:** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—É—â–∏–π –∫–æ–¥, –ø—Ä–µ–¥–ª–æ–∂–∏ —É–ª—É—á—à–µ–Ω–∏—è
2. **Developer:** –ü—Ä–∏–º–µ–Ω–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
3. **Validator:** –£–±–µ–¥–∏—Å—å —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### S3: –§–∏–∫—Å –±–∞–≥–∞

1. **Architect:** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–±–ª–µ–º—É, –æ–ø—Ä–µ–¥–µ–ª–∏ –ø—Ä–∏—á–∏–Ω—É
2. **Developer:** –ù–∞–ø–∏—à–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
3. **Validator:** –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –±–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [Frontend Architect Role](./roles/architect.md)
- [Frontend Developer Role](./roles/developer.md)
- [Code Validator Role](./roles/validator.md)
- [Cursor Rules README](../README.md)
